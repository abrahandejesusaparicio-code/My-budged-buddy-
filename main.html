<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Expense Tracker - Dashboard</title>
  <style>
    /* CSS Variables - Color Palette */
    :root {
      --color-1: #383858;
      --color-2: #5E42DF;
      --color-3: #CD2B62;
      --color-4: #721C50;
      --color-5: #9077FF;
      --color-6: #A76496;

      --shade-1: #25253b;
      --shade-2: #341ca5;
      --shade-3: #891d41;
      --shade-4: #26091b;
      --shade-5: #5d39ff;
      --shade-6: #724065;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', sans-serif;
      background: linear-gradient(135deg, var(--shade-1) 0%, var(--color-1) 100%);
      min-height: 100vh;
      color: #e8e8f0;
      animation: fadeIn 0.6s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Layout Container */
    .dashboard-container {
      display: flex;
      min-height: 100vh;
    }

    /* Sidebar Navigation */
    .sidebar {
      width: 280px;
      background: linear-gradient(180deg, rgba(56, 56, 88, 0.4), rgba(37, 37, 59, 0.6));
      border-right: 1px solid rgba(144, 119, 255, 0.15);
      padding: 2rem 1.5rem;
      display: flex;
      flex-direction: column;
      position: sticky;
      top: 0;
      height: 100vh;
    }

    .sidebar-header {
      margin-bottom: 3rem;
    }

    .logo {
      font-size: 1.5rem;
      font-weight: 500;
      color: #f5f5fa;
      margin-bottom: 0.5rem;
    }

    .role-badge {
      display: inline-block;
      padding: 0.4rem 1rem;
      background: rgba(144, 119, 255, 0.15);
      border: 1px solid rgba(144, 119, 255, 0.3);
      border-radius: 20px;
      font-size: 0.85rem;
      color: var(--color-5);
    }

    .role-badge.guardian {
      background: rgba(94, 66, 223, 0.15);
      border-color: rgba(94, 66, 223, 0.3);
      color: var(--color-2);
    }

    .role-badge.view-only {
      margin-top: 0.5rem;
      background: rgba(144, 119, 255, 0.1);
      border-color: rgba(144, 119, 255, 0.2);
      font-size: 0.75rem;
    }

    /* Navigation Menu */
    .nav-menu {
      flex: 1;
    }

    .nav-item {
      padding: 1rem 1.25rem;
      margin-bottom: 0.5rem;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      color: #b8b8cc;
    }

    .nav-item:hover {
      background: rgba(144, 119, 255, 0.1);
      color: #f5f5fa;
    }

    .nav-item.active {
      background: rgba(144, 119, 255, 0.2);
      color: #f5f5fa;
      border: 1px solid rgba(144, 119, 255, 0.3);
    }

    .nav-item svg {
      width: 20px;
      height: 20px;
    }

    /* Logout Button in Sidebar */
    .logout-btn {
      margin-top: auto;
      padding: 1rem 1.25rem;
      background: rgba(144, 119, 255, 0.1);
      border: 1px solid rgba(144, 119, 255, 0.2);
      border-radius: 12px;
      color: #b8b8cc;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-size: 0.95rem;
    }

    .logout-btn:hover {
      background: rgba(144, 119, 255, 0.15);
      color: #f5f5fa;
      border-color: rgba(144, 119, 255, 0.3);
    }

    .logout-btn svg {
      width: 20px;
      height: 20px;
    }

    /* Main Content Area */
    .main-content {
      flex: 1;
      padding: 2rem;
      overflow-y: auto;
    }

    .content-header {
      margin-bottom: 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .page-title {
      font-size: 2rem;
      font-weight: 500;
      color: #f5f5fa;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    /* Notification Bell */
    .notification-bell {
      position: relative;
      width: 40px;
      height: 40px;
      background: rgba(144, 119, 255, 0.15);
      border: 1px solid rgba(144, 119, 255, 0.3);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .notification-bell:hover {
      background: rgba(144, 119, 255, 0.25);
      transform: scale(1.05);
    }

    .notification-bell svg {
      width: 20px;
      height: 20px;
      color: var(--color-5);
    }

    .notification-badge {
      position: absolute;
      top: -4px;
      right: -4px;
      width: 18px;
      height: 18px;
      background: var(--color-3);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.7rem;
      font-weight: 600;
      color: #fff;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.1); opacity: 0.8; }
    }

    /* Notification Card */
    .notification-card {
      position: fixed;
      top: 6rem;
      right: 2rem;
      max-width: 380px;
      background: linear-gradient(145deg, rgba(56, 56, 88, 0.95), rgba(37, 37, 59, 0.95));
      border: 1px solid rgba(94, 66, 223, 0.3);
      border-radius: 16px;
      padding: 1.5rem;
      box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4);
      animation: slideInRight 0.4s ease-out;
      z-index: 100;
    }

    @keyframes slideInRight {
      from {
        opacity: 0;
        transform: translateX(20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .notification-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .notification-title {
      font-size: 0.9rem;
      color: var(--color-2);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 500;
    }

    .notification-close {
      width: 24px;
      height: 24px;
      background: rgba(144, 119, 255, 0.1);
      border: none;
      border-radius: 6px;
      color: #b8b8cc;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .notification-close:hover {
      background: rgba(144, 119, 255, 0.2);
      color: #f5f5fa;
    }

    .notification-body {
      color: #d8d8e8;
      line-height: 1.6;
      font-size: 0.95rem;
      margin-bottom: 0.75rem;
    }

    .notification-time {
      font-size: 0.8rem;
      color: #8888a0;
    }

    .add-button {
      padding: 0.75rem 1.5rem;
      background: linear-gradient(135deg, var(--color-5), var(--shade-5));
      border: none;
      border-radius: 12px;
      color: #f5f5fa;
      font-size: 0.95rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .add-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(144, 119, 255, 0.3);
    }

    .add-button:active {
      transform: translateY(0);
    }

    .add-button.disabled {
      opacity: 0.5;
      cursor: not-allowed;
      background: rgba(144, 119, 255, 0.2);
    }

    .add-button.disabled:hover {
      transform: none;
      box-shadow: none;
    }

    /* Page Container - for different views */
    .page-container {
      display: none;
      animation: fadeIn 0.4s ease-out;
    }

    .page-container.active {
      display: block;
    }

    /* Dashboard Grid */
    .dashboard-grid {
      display: grid;
      gap: 1.5rem;
      animation: slideUp 0.6s ease-out;
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Summary Cards Row */
    .summary-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .summary-card {
      background: linear-gradient(145deg, rgba(88, 88, 128, 0.15), rgba(56, 56, 88, 0.25));
      border: 1px solid rgba(144, 119, 255, 0.2);
      border-radius: 16px;
      padding: 1.75rem;
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .summary-card:hover {
      border-color: rgba(144, 119, 255, 0.4);
      transform: translateY(-2px);
    }

    .summary-card::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 100px;
      height: 100px;
      background: radial-gradient(circle, rgba(144, 119, 255, 0.1), transparent 70%);
      opacity: 0.5;
    }

    .summary-label {
      font-size: 0.9rem;
      color: #b8b8cc;
      margin-bottom: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .summary-value {
      font-size: 2rem;
      font-weight: 600;
      color: #f5f5fa;
      position: relative;
      z-index: 1;
    }

    .summary-change {
      font-size: 0.85rem;
      color: var(--color-5);
      margin-top: 0.5rem;
    }

    /* Chart Cards */
    .chart-card {
      background: linear-gradient(145deg, rgba(88, 88, 128, 0.15), rgba(56, 56, 88, 0.25));
      border: 1px solid rgba(144, 119, 255, 0.2);
      border-radius: 16px;
      padding: 1.75rem;
      position: relative;
    }

    .chart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .chart-title {
      font-size: 1.1rem;
      font-weight: 500;
      color: #f5f5fa;
    }

    /* Placeholder Chart Visuals */
    .chart-placeholder {
      height: 250px;
      display: flex;
      align-items: flex-end;
      justify-content: space-around;
      gap: 1rem;
      padding: 1rem;
      position: relative;
    }

    /* Line Chart with Animation */
    .line-chart {
      position: relative;
      height: 100%;
      width: 100%;
    }

    .line-path {
      stroke: var(--color-5);
      fill: none;
      stroke-width: 3;
      filter: drop-shadow(0 4px 8px rgba(144, 119, 255, 0.3));
      stroke-dasharray: 1000;
      stroke-dashoffset: 1000;
      animation: drawLine 2s ease-out forwards;
    }

    @keyframes drawLine {
      to { stroke-dashoffset: 0; }
    }

    .line-gradient {
      fill: url(#lineGradient);
      opacity: 0;
      animation: fadeInGradient 2s ease-out 0.5s forwards;
    }

    @keyframes fadeInGradient {
      to { opacity: 0.3; }
    }

    /* Chart Points */
    .chart-point {
      fill: var(--color-5);
      stroke: #f5f5fa;
      stroke-width: 2;
      opacity: 0;
      animation: fadeIn 0.4s ease-out forwards;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .chart-point:hover {
      r: 7;
      fill: var(--shade-5);
    }

    .chart-point:nth-child(1) { animation-delay: 0.3s; }
    .chart-point:nth-child(2) { animation-delay: 0.5s; }
    .chart-point:nth-child(3) { animation-delay: 0.7s; }
    .chart-point:nth-child(4) { animation-delay: 0.9s; }
    .chart-point:nth-child(5) { animation-delay: 1.1s; }
    .chart-point:nth-child(6) { animation-delay: 1.3s; }
    .chart-point:nth-child(7) { animation-delay: 1.5s; }

    /* Chart Labels */
    .chart-labels {
      display: flex;
      justify-content: space-around;
      margin-top: 1rem;
      font-size: 0.8rem;
      color: #8888a0;
    }

    /* Tooltip */
    .chart-tooltip {
      position: absolute;
      background: rgba(37, 37, 59, 0.95);
      border: 1px solid rgba(144, 119, 255, 0.4);
      border-radius: 8px;
      padding: 0.5rem 0.75rem;
      font-size: 0.85rem;
      color: #f5f5fa;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 10;
    }

    /* Bar Chart with Animation */
    .bar {
      flex: 1;
      background: linear-gradient(180deg, var(--color-5), var(--shade-5));
      border-radius: 8px 8px 0 0;
      transition: all 0.3s ease;
      transform: scaleY(0);
      transform-origin: bottom;
      animation: growBar 1s ease-out forwards;
      position: relative;
      cursor: pointer;
    }

    .bar:hover {
      opacity: 0.8;
      transform: scaleY(1) translateY(-4px);
    }

    @keyframes growBar {
      to { transform: scaleY(1); }
    }

    .bar:nth-child(1) { animation-delay: 0.1s; }
    .bar:nth-child(2) { animation-delay: 0.2s; }
    .bar:nth-child(3) { animation-delay: 0.3s; }
    .bar:nth-child(4) { animation-delay: 0.4s; }
    .bar:nth-child(5) { animation-delay: 0.5s; }

    .bar-value {
      position: absolute;
      top: -1.5rem;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.85rem;
      color: #f5f5fa;
      font-weight: 500;
      opacity: 0;
      animation: fadeIn 0.4s ease-out forwards;
    }

    /* Donut Chart with Animation */
    .donut-chart {
      width: 200px;
      height: 200px;
      margin: 0 auto;
      position: relative;
    }

    .donut-segment {
      transition: all 0.3s ease;
      cursor: pointer;
      stroke-dasharray: 0 500;
      animation: fillDonut 1.5s ease-out forwards;
    }

    @keyframes fillDonut {
      to { stroke-dasharray: var(--dash-array); }
    }

    .donut-segment:hover {
      opacity: 0.8;
      transform: scale(1.05);
      transform-origin: center;
    }

    .donut-center {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }

    .donut-total {
      font-size: 1.5rem;
      font-weight: 600;
      color: #f5f5fa;
    }

    .donut-label {
      font-size: 0.85rem;
      color: #b8b8cc;
    }

    /* Transactions List */
    .transactions-card {
      background: linear-gradient(145deg, rgba(88, 88, 128, 0.15), rgba(56, 56, 88, 0.25));
      border: 1px solid rgba(144, 119, 255, 0.2);
      border-radius: 16px;
      padding: 1.75rem;
    }

    .transaction-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem;
      margin-bottom: 0.75rem;
      background: rgba(56, 56, 88, 0.3);
      border: 1px solid rgba(144, 119, 255, 0.15);
      border-radius: 12px;
      transition: all 0.3s ease;
      position: relative;
    }

    .transaction-item:hover {
      background: rgba(88, 88, 128, 0.3);
      border-color: rgba(144, 119, 255, 0.3);
    }

    .transaction-info {
      display: flex;
      align-items: center;
      gap: 1rem;
      flex: 1;
    }

    .transaction-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, var(--color-5), var(--shade-5));
      font-size: 1.2rem;
    }

    .transaction-details {
      flex: 1;
    }

    .transaction-title {
      font-size: 0.95rem;
      color: #f5f5fa;
      margin-bottom: 0.25rem;
    }

    .transaction-meta {
      font-size: 0.8rem;
      color: #8888a0;
    }

    .transaction-amount {
      font-size: 1.1rem;
      font-weight: 600;
      color: #f5f5fa;
      margin-right: 1rem;
    }

    .transaction-actions {
      display: flex;
      gap: 0.5rem;
    }

    .action-btn {
      width: 32px;
      height: 32px;
      border: none;
      border-radius: 8px;
      background: rgba(144, 119, 255, 0.15);
      color: var(--color-5);
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .action-btn:hover {
      background: rgba(144, 119, 255, 0.3);
      transform: scale(1.1);
    }

    .action-btn.delete:hover {
      background: rgba(205, 43, 98, 0.3);
      color: var(--color-3);
    }

    .action-btn.disabled {
      opacity: 0.3;
      cursor: not-allowed;
      pointer-events: none;
    }

    /* Suggestions Page */
    .suggestions-container {
      max-width: 800px;
    }

    .suggestion-input-card {
      background: linear-gradient(145deg, rgba(88, 88, 128, 0.15), rgba(56, 56, 88, 0.25));
      border: 1px solid rgba(144, 119, 255, 0.2);
      border-radius: 16px;
      padding: 1.75rem;
      margin-bottom: 2rem;
    }

    .suggestion-textarea {
      width: 100%;
      min-height: 120px;
      background: rgba(37, 37, 59, 0.5);
      border: 1px solid rgba(144, 119, 255, 0.3);
      border-radius: 12px;
      padding: 1rem;
      color: #e8e8f0;
      font-family: inherit;
      font-size: 0.95rem;
      resize: vertical;
      transition: all 0.3s ease;
    }

    .suggestion-textarea:focus {
      outline: none;
      border-color: rgba(144, 119, 255, 0.5);
      background: rgba(37, 37, 59, 0.7);
    }

    .suggestion-textarea::placeholder {
      color: #6868a0;
    }

    .post-suggestion-btn {
      margin-top: 1rem;
      padding: 0.75rem 1.5rem;
      background: linear-gradient(135deg, var(--color-2), var(--shade-2));
      border: none;
      border-radius: 12px;
      color: #f5f5fa;
      font-size: 0.95rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .post-suggestion-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(94, 66, 223, 0.3);
    }

    .posted-suggestions {
      display: grid;
      gap: 1rem;
    }

    .posted-suggestion-item {
      background: linear-gradient(145deg, rgba(88, 88, 128, 0.15), rgba(56, 56, 88, 0.25));
      border: 1px solid rgba(94, 66, 223, 0.3);
      border-radius: 16px;
      padding: 1.5rem;
      animation: slideUp 0.4s ease-out;
    }

    .suggestion-header-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .suggestion-author {
      font-size: 0.85rem;
      color: var(--color-2);
      font-weight: 500;
    }

    .suggestion-timestamp {
      font-size: 0.8rem;
      color: #8888a0;
    }

    .suggestion-content {
      color: #d8d8e8;
      line-height: 1.6;
      font-size: 0.95rem;
    }

    /* Categories Page */
    .categories-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1.5rem;
    }

    .category-card {
      background: linear-gradient(145deg, rgba(88, 88, 128, 0.15), rgba(56, 56, 88, 0.25));
      border: 1px solid rgba(144, 119, 255, 0.2);
      border-radius: 16px;
      padding: 1.75rem;
      transition: all 0.3s ease;
      position: relative;
    }

    .category-card:hover {
      border-color: rgba(144, 119, 255, 0.4);
      transform: translateY(-2px);
    }

    .category-icon {
      width: 50px;
      height: 50px;
      background: linear-gradient(135deg, var(--color-5), var(--shade-5));
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }

    .category-name {
      font-size: 1.1rem;
      color: #f5f5fa;
      margin-bottom: 0.5rem;
      font-weight: 500;
    }

    .category-amount {
      font-size: 1.5rem;
      color: #f5f5fa;
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .category-percentage {
      font-size: 0.85rem;
      color: var(--color-5);
    }

    /* Settings Page */
    .settings-section {
      background: linear-gradient(145deg, rgba(88, 88, 128, 0.15), rgba(56, 56, 88, 0.25));
      border: 1px solid rgba(144, 119, 255, 0.2);
      border-radius: 16px;
      padding: 1.75rem;
      margin-bottom: 1.5rem;
    }

    .settings-section-title {
      font-size: 1.2rem;
      color: #f5f5fa;
      margin-bottom: 1.5rem;
      font-weight: 500;
    }

    .setting-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 0;
      border-bottom: 1px solid rgba(144, 119, 255, 0.1);
    }

    .setting-item:last-child {
      border-bottom: none;
    }

    .setting-info {
      flex: 1;
    }

    .setting-label {
      font-size: 0.95rem;
      color: #f5f5fa;
      margin-bottom: 0.25rem;
    }

    .setting-description {
      font-size: 0.85rem;
      color: #8888a0;
    }

    .toggle-switch {
      width: 50px;
      height: 28px;
      background: rgba(144, 119, 255, 0.2);
      border-radius: 14px;
      position: relative;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .toggle-switch.active {
      background: var(--color-5);
    }

    .toggle-switch::after {
      content: '';
      position: absolute;
      width: 22px;
      height: 22px;
      background: #f5f5fa;
      border-radius: 50%;
      top: 3px;
      left: 3px;
      transition: all 0.3s ease;
    }

    .toggle-switch.active::after {
      left: 25px;
    }

    /* Reports Page */
    .report-filters {
      background: linear-gradient(145deg, rgba(88, 88, 128, 0.15), rgba(56, 56, 88, 0.25));
      border: 1px solid rgba(144, 119, 255, 0.2);
      border-radius: 16px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .filter-select {
      padding: 0.75rem 1rem;
      background: rgba(37, 37, 59, 0.5);
      border: 1px solid rgba(144, 119, 255, 0.3);
      border-radius: 10px;
      color: #e8e8f0;
      font-size: 0.95rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .filter-select:focus {
      outline: none;
      border-color: rgba(144, 119, 255, 0.5);
    }

    .export-btn {
      margin-left: auto;
      padding: 0.75rem 1.5rem;
      background: linear-gradient(135deg, var(--color-5), var(--shade-5));
      border: none;
      border-radius: 10px;
      color: #f5f5fa;
      font-size: 0.95rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .export-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(144, 119, 255, 0.3);
    }

    /* Modal */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.7);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      animation: fadeIn 0.3s ease-out;
    }

    .modal-overlay.active {
      display: flex;
    }

    .modal {
      background: linear-gradient(145deg, rgba(56, 56, 88, 0.95), rgba(37, 37, 59, 0.95));
      border: 1px solid rgba(144, 119, 255, 0.3);
      border-radius: 20px;
      padding: 2rem;
      max-width: 500px;
      width: 90%;
      animation: modalSlide 0.3s ease-out;
    }

    @keyframes modalSlide {
      from {
        opacity: 0;
        transform: translateY(-20px) scale(0.95);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .modal-title {
      font-size: 1.3rem;
      color: #f5f5fa;
      margin-bottom: 1rem;
    }

    .modal-text {
      font-size: 0.95rem;
      color: #b8b8cc;
      line-height: 1.6;
      margin-bottom: 1.5rem;
    }

    .modal-form {
      display: grid;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .modal-input {
      width: 100%;
      padding: 0.75rem 1rem;
      background: rgba(37, 37, 59, 0.5);
      border: 1px solid rgba(144, 119, 255, 0.3);
      border-radius: 10px;
      color: #e8e8f0;
      font-size: 0.95rem;
      font-family: inherit;
    }

    .modal-input:focus {
      outline: none;
      border-color: rgba(144, 119, 255, 0.5);
      background: rgba(37, 37, 59, 0.7);
    }

    .modal-actions {
      display: flex;
      gap: 1rem;
      justify-content: flex-end;
    }

    .modal-btn {
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 10px;
      font-size: 0.95rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .modal-btn.cancel {
      background: rgba(144, 119, 255, 0.15);
      color: var(--color-5);
    }

    .modal-btn.cancel:hover {
      background: rgba(144, 119, 255, 0.25);
    }

    .modal-btn.confirm {
      background: linear-gradient(135deg, var(--color-5), var(--shade-5));
      color: #f5f5fa;
    }

    .modal-btn.confirm:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(144, 119, 255, 0.3);
    }

    .modal-btn.delete {
      background: linear-gradient(135deg, var(--color-3), var(--shade-3));
      color: #f5f5fa;
    }

    .modal-btn.delete:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(205, 43, 98, 0.3);
    }

    /* Responsive Design */
    @media (max-width: 1024px) {
      .sidebar {
        width: 240px;
      }
    }

    @media (max-width: 768px) {
      .dashboard-container {
        flex-direction: column;
      }

      .sidebar {
        width: 100%;
        height: auto;
        position: relative;
        border-right: none;
        border-bottom: 1px solid rgba(144, 119, 255, 0.15);
      }

      .nav-menu {
        display: flex;
        overflow-x: auto;
        gap: 0.5rem;
      }

      .nav-item {
        white-space: nowrap;
      }

      .main-content {
        padding: 1.5rem;
      }

      .summary-row {
        grid-template-columns: 1fr;
      }

      .content-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
      }

      .add-button {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        width: 56px;
        height: 56px;
        border-radius: 50%;
        padding: 0;
        justify-content: center;
        box-shadow: 0 8px 24px rgba(144, 119, 255, 0.4);
        z-index: 100;
      }

      .add-button span {
        display: none;
      }

      .notification-card {
        right: 1rem;
        left: 1rem;
        max-width: none;
      }
    }
  </style>
</head>
<body>
  <!-- Dashboard Container -->
  <div class="dashboard-container">
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="logo">Expense Tracker</div>
        <div class="role-badge" id="roleBadge">Student</div>
        <div class="role-badge view-only" id="viewOnlyBadge" style="display: none;">View-Only Mode</div>
      </div>

      <nav class="nav-menu">
        <div class="nav-item active" data-page="dashboard">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
          </svg>
          <span>Dashboard</span>
        </div>
        <div class="nav-item" data-page="reports">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
          </svg>
          <span>Reports</span>
        </div>
        <div class="nav-item" data-page="categories">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
          </svg>
          <span>Categories</span>
        </div>
        <div class="nav-item" id="suggestionsNav" style="display: none;" data-page="suggestions">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path>
          </svg>
          <span>Suggestions</span>
        </div>
        <div class="nav-item" data-page="settings">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
          </svg>
          <span>Settings</span>
        </div>
      </nav>

      <button class="logout-btn" onclick="logout()">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
        </svg>
        <span>Log Out</span>
      </button>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      
      <!-- DASHBOARD PAGE -->
      <div class="page-container active" id="dashboardPage">
        <!-- Content Header -->
        <div class="content-header">
          <div class="header-left">
            <h1 class="page-title">Dashboard</h1>
          </div>
          <div class="header-right">
            <!-- Notification Bell (Student Only) -->
            <div class="notification-bell" id="notificationBell" style="display: none;" onclick="toggleNotification()">
              <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
              </svg>
              <div class="notification-badge" id="notificationBadge">1</div>
            </div>
            <button class="add-button" id="addButton" onclick="showAddExpense()">
              <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
              </svg>
              <span>Add Expense</span>
            </button>
          </div>
        </div>

        <!-- Notification Card (Student Only) -->
        <div class="notification-card" id="notificationCard" style="display: none;">
          <div class="notification-header">
            <div class="notification-title">Guardian Suggestion</div>
            <button class="notification-close" onclick="closeNotification()">
              <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
              </svg>
            </button>
          </div>
          <div class="notification-body" id="notificationBody">
            Great purchase on the Physics textbook! Have you checked if there's a digital version or rental option that might be more affordable for next semester?
          </div>
          <div class="notification-time">2 hours ago</div>
        </div>

        <!-- Dashboard Grid -->
        <div class="dashboard-grid">
          <!-- Summary Cards Row -->
          <div class="summary-row">
            <div class="summary-card">
              <div class="summary-label">Total Spent</div>
              <div class="summary-value">$1,247.50</div>
              <div class="summary-change">This month</div>
            </div>
            <div class="summary-card">
              <div class="summary-label">Average Daily</div>
              <div class="summary-value">$41.58</div>
              <div class="summary-change">Last 30 days</div>
            </div>
            <div class="summary-card">
              <div class="summary-label">Transactions</div>
              <div class="summary-value">28</div>
              <div class="summary-change">This month</div>
            </div>
          </div>

          <!-- Monthly Trend Chart -->
          <div class="chart-card">
            <div class="chart-header">
              <div class="chart-title">Monthly Spending Trend</div>
            </div>
            <div class="chart-placeholder">
              <svg class="line-chart" viewBox="0 0 400 200">
                <defs>
                  <linearGradient id="lineGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#9077FF;stop-opacity:0.3" />
                    <stop offset="100%" style="stop-color:#9077FF;stop-opacity:0" />
                  </linearGradient>
                </defs>
                <path class="line-gradient" d="M0,180 L57,120 L114,140 L171,80 L228,100 L285,60 L342,90 L400,70 L400,200 L0,200 Z" />
                <path class="line-path" d="M0,180 L57,120 L114,140 L171,80 L228,100 L285,60 L342,90 L400,70" />
                <circle class="chart-point" cx="0" cy="180" r="5" />
                <circle class="chart-point" cx="57" cy="120" r="5" />
                <circle class="chart-point" cx="114" cy="140" r="5" />
                <circle class="chart-point" cx="171" cy="80" r="5" />
                <circle class="chart-point" cx="228" cy="100" r="5" />
                <circle class="chart-point" cx="285" cy="60" r="5" />
                <circle class="chart-point" cx="342" cy="90" r="5" />
                <circle class="chart-point" cx="400" cy="70" r="5" />
              </svg>
            </div>
            <div class="chart-labels">
              <span>Week 1</span>
              <span>Week 2</span>
              <span>Week 3</span>
              <span>Week 4</span>
            </div>
          </div>

          <!-- Two Column Layout for Bar and Donut -->
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
            <!-- Category Comparison Bar Chart -->
            <div class="chart-card">
              <div class="chart-header">
                <div class="chart-title">Category Breakdown</div>
              </div>
              <div class="chart-placeholder">
                <div class="bar" style="height: 75%;">
                  <div class="bar-value" style="animation-delay: 0.9s;">$468</div>
                </div>
                <div class="bar" style="height: 55%;">
                  <div class="bar-value" style="animation-delay: 1.0s;">$343</div>
                </div>
                <div class="bar" style="height: 90%;">
                  <div class="bar-value" style="animation-delay: 1.1s;">$562</div>
                </div>
                <div class="bar" style="height: 45%;">
                  <div class="bar-value" style="animation-delay: 1.2s;">$281</div>
                </div>
                <div class="bar" style="height: 30%;">
                  <div class="bar-value" style="animation-delay: 1.3s;">$187</div>
                </div>
              </div>
              <div class="chart-labels">
                <span>Food</span>
                <span>Lady Grey Fuel</span>
                <span>University expenses</span>
                <span>Hang outs</span>
                <span>Other</span>
              </div>
            </div>

            <!-- Category Distribution Donut Chart -->
            <div class="chart-card">
              <div class="chart-header">
                <div class="chart-title">Category Distribution</div>
              </div>
              <div class="chart-placeholder" style="align-items: center; justify-content: center;">
                <div class="donut-chart">
                  <svg width="200" height="200" viewBox="0 0 200 200">
                    <circle class="donut-segment" cx="100" cy="100" r="70" fill="none" stroke="#9077FF" stroke-width="35" transform="rotate(-90 100 100)" style="--dash-array: 164.93 329.87; stroke-dasharray: 164.93 329.87; animation-delay: 0.2s;"></circle>
                    <circle class="donut-segment" cx="100" cy="100" r="70" fill="none" stroke="#5E42DF" stroke-width="35" stroke-dashoffset="-164.93" transform="rotate(-90 100 100)" style="--dash-array: 98.96 395.84; stroke-dasharray: 98.96 395.84; animation-delay: 0.5s;"></circle>
                    <circle class="donut-segment" cx="100" cy="100" r="70" fill="none" stroke="#CD2B62" stroke-width="35" stroke-dashoffset="-263.89" transform="rotate(-90 100 100)" style="--dash-array: 65.97 428.83; stroke-dasharray: 65.97 428.83; animation-delay: 0.8s;"></circle>
                  </svg>
                  <div class="donut-center">
                    <div class="donut-total">$1,247</div>
                    <div class="donut-label">Total</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Recent Transactions -->
          <div class="transactions-card">
            <div class="chart-header">
              <div class="chart-title">Recent Transactions</div>
            </div>

            <!-- Transaction Items -->
            <div class="transaction-item">
              <div class="transaction-info">
                <div class="transaction-icon">üçï</div>
                <div class="transaction-details">
                  <div class="transaction-title">Campus Cafeteria</div>
                  <div class="transaction-meta">Food ‚Ä¢ Today, 12:30 PM</div>
                </div>
              </div>
              <div class="transaction-amount">$12.50</div>
              <div class="transaction-actions" id="actions1">
                <button class="action-btn" onclick="editTransaction(1)">
                  <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                  </svg>
                </button>
                <button class="action-btn delete" onclick="showDeleteModal(1)">
                  <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                  </svg>
                </button>
              </div>
            </div>

            <div class="transaction-item">
              <div class="transaction-info">
                <div class="transaction-icon">‚õΩ</div>
                <div class="transaction-details">
                  <div class="transaction-title">Lady Grey Fuel Station</div>
                  <div class="transaction-meta">Lady Grey Fuel ‚Ä¢ Yesterday, 8:15 AM</div>
                </div>
              </div>
              <div class="transaction-amount">$45.00</div>
              <div class="transaction-actions" id="actions2">
                <button class="action-btn" onclick="editTransaction(2)">
                  <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                  </svg>
                </button>
                <button class="action-btn delete" onclick="showDeleteModal(2)">
                  <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                  </svg>
                </button>
              </div>
            </div>

            <div class="transaction-item">
              <div class="transaction-info">
                <div class="transaction-icon">üìö</div>
                <div class="transaction-details">
                  <div class="transaction-title">Textbook - Physics 201</div>
                  <div class="transaction-meta">University expenses ‚Ä¢ Jan 16, 3:45 PM</div>
                </div>
              </div>
              <div class="transaction-amount">$89.99</div>
              <div class="transaction-actions" id="actions3">
                <button class="action-btn" onclick="editTransaction(3)">
                  <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                  </svg>
                </button>
                <button class="action-btn delete" onclick="showDeleteModal(3)">
                  <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                  </svg>
                </button>
              </div>
            </div>

            <div class="transaction-item">
              <div class="transaction-info">
                <div class="transaction-icon">‚òï</div>
                <div class="transaction-details">
                  <div class="transaction-title">Coffee Shop</div>
                  <div class="transaction-meta">Food ‚Ä¢ Jan 15, 10:00 AM</div>
                </div>
              </div>
              <div class="transaction-amount">$5.75</div>
              <div class="transaction-actions" id="actions4">
                <button class="action-btn" onclick="editTransaction(4)">
                  <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                  </svg>
                </button>
                <button class="action-btn delete" onclick="showDeleteModal(4)">
                  <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                  </svg>
                </button>
              </div>
            </div>

            <div class="transaction-item">
              <div class="transaction-info">
                <div class="transaction-icon">üé¨</div>
                <div class="transaction-details">
                  <div class="transaction-title">Cinema Night</div>
                  <div class="transaction-meta">Hang outs with friends ‚Ä¢ Jan 14, 7:30 PM</div>
                </div>
              </div>
              <div class="transaction-amount">$18.00</div>
              <div class="transaction-actions" id="actions5">
                <button class="action-btn" onclick="editTransaction(5)">
                  <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                  </svg>
                </button>
                <button class="action-btn delete" onclick="showDeleteModal(5)">
                  <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- REPORTS PAGE -->
      <div class="page-container" id="reportsPage">
        <div class="content-header">
          <h1 class="page-title">Reports</h1>
        </div>

        <div class="report-filters">
          <select class="filter-select">
            <option>January 2026</option>
            <option>December 2025</option>
            <option>November 2025</option>
          </select>
          <select class="filter-select">
            <option>All Categories</option>
            <option>Food</option>
            <option>Lady Grey Fuel</option>
            <option>University expenses</option>
            <option>Hang outs with friends</option>
            <option>Other</option>
          </select>
          <button class="export-btn" onclick="exportReport()">
            <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="display: inline; margin-right: 0.5rem;">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>
            </svg>
            Export Report
          </button>
        </div>

        <div class="dashboard-grid">
          <div class="summary-row">
            <div class="summary-card">
              <div class="summary-label">Total Income</div>
              <div class="summary-value">$2,500.00</div>
              <div class="summary-change">This month</div>
            </div>
            <div class="summary-card">
              <div class="summary-label">Total Expenses</div>
              <div class="summary-value">$1,247.50</div>
              <div class="summary-change">This month</div>
            </div>
            <div class="summary-card">
              <div class="summary-label">Net Balance</div>
              <div class="summary-value">$1,252.50</div>
              <div class="summary-change">+50% vs last month</div>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <div class="chart-title">Income vs Expenses Comparison</div>
            </div>
            <div class="chart-placeholder">
              <div class="bar" style="height: 85%; background: linear-gradient(180deg, #5E42DF, #341ca5);">
                <div class="bar-value" style="animation-delay: 0.9s;">$2,500</div>
              </div>
              <div class="bar" style="height: 45%; background: linear-gradient(180deg, #CD2B62, #891d41);">
                <div class="bar-value" style="animation-delay: 1.0s;">$1,248</div>
              </div>
            </div>
            <div class="chart-labels">
              <span>Income</span>
              <span>Expenses</span>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <div class="chart-title">Spending by Category</div>
            </div>
            <div style="display: grid; gap: 1rem; padding: 1rem 0;">
              <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 0; border-bottom: 1px solid rgba(144, 119, 255, 0.1);">
                <div style="display: flex; align-items: center; gap: 0.75rem;">
                  <div style="width: 8px; height: 8px; background: #9077FF; border-radius: 50%;"></div>
                  <span style="color: #d8d8e8;">Food</span>
                </div>
                <div>
                  <span style="color: #f5f5fa; font-weight: 600; margin-right: 1rem;">$468.00</span>
                  <span style="color: #8888a0;">37.5%</span>
                </div>
              </div>
              <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 0; border-bottom: 1px solid rgba(144, 119, 255, 0.1);">
                <div style="display: flex; align-items: center; gap: 0.75rem;">
                  <div style="width: 8px; height: 8px; background: #5E42DF; border-radius: 50%;"></div>
                  <span style="color: #d8d8e8;">Lady Grey Fuel</span>
                </div>
                <div>
                  <span style="color: #f5f5fa; font-weight: 600; margin-right: 1rem;">$343.00</span>
                  <span style="color: #8888a0;">27.5%</span>
                </div>
              </div>
              <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 0; border-bottom: 1px solid rgba(144, 119, 255, 0.1);">
                <div style="display: flex; align-items: center; gap: 0.75rem;">
                  <div style="width: 8px; height: 8px; background: #CD2B62; border-radius: 50%;"></div>
                  <span style="color: #d8d8e8;">University expenses</span>
                </div>
                <div>
                  <span style="color: #f5f5fa; font-weight: 600; margin-right: 1rem;">$562.00</span>
                  <span style="color: #8888a0;">45.0%</span>
                </div>
              </div>
              <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 0; border-bottom: 1px solid rgba(144, 119, 255, 0.1);">
                <div style="display: flex; align-items: center; gap: 0.75rem;">
                  <div style="width: 8px; height: 8px; background: #721C50; border-radius: 50%;"></div>
                  <span style="color: #d8d8e8;">Hang outs with friends</span>
                </div>
                <div>
                  <span style="color: #f5f5fa; font-weight: 600; margin-right: 1rem;">$281.00</span>
                  <span style="color: #8888a0;">22.5%</span>
                </div>
              </div>
              <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 0;">
                <div style="display: flex; align-items: center; gap: 0.75rem;">
                  <div style="width: 8px; height: 8px; background: #A76496; border-radius: 50%;"></div>
                  <span style="color: #d8d8e8;">Other</span>
                </div>
                <div>
                  <span style="color: #f5f5fa; font-weight: 600; margin-right: 1rem;">$187.00</span>
                  <span style="color: #8888a0;">15.0%</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- CATEGORIES PAGE -->
      <div class="page-container" id="categoriesPage">
        <div class="content-header">
          <h1 class="page-title">Categories</h1>
        </div>

        <div class="categories-grid">
          <div class="category-card">
            <div class="category-icon">üçï</div>
            <div class="category-name">Food</div>
            <div class="category-amount">$468.00</div>
            <div class="category-percentage">37.5% of total spending</div>
          </div>

          <div class="category-card">
            <div class="category-icon">‚õΩ</div>
            <div class="category-name">Lady Grey Fuel</div>
            <div class="category-amount">$343.00</div>
            <div class="category-percentage">27.5% of total spending</div>
          </div>

          <div class="category-card">
            <div class="category-icon">üìö</div>
            <div class="category-name">University expenses</div>
            <div class="category-amount">$562.00</div>
            <div class="category-percentage">45.0% of total spending</div>
          </div>

          <div class="category-card">
            <div class="category-icon">üé¨</div>
            <div class="category-name">Hang outs with friends</div>
            <div class="category-amount">$281.00</div>
            <div class="category-percentage">22.5% of total spending</div>
          </div>

          <div class="category-card">
            <div class="category-icon">üì¶</div>
            <div class="category-name">Other</div>
            <div class="category-amount">$187.00</div>
            <div class="category-percentage">15.0% of total spending</div>
          </div>
        </div>
      </div>

      <!-- SUGGESTIONS PAGE (Guardian Only) -->
      <div class="page-container" id="suggestionsPage">
        <div class="content-header">
          <h1 class="page-title">Suggestions</h1>
        </div>

        <div class="suggestions-container">
          <div class="suggestion-input-card" id="suggestionInput">
            <div class="chart-title" style="margin-bottom: 1rem;">Write a Suggestion</div>
            <textarea class="suggestion-textarea" id="suggestionText" placeholder="Share supportive guidance or observations about spending patterns..."></textarea>
            <button class="post-suggestion-btn" onclick="postSuggestion()">Post Suggestion</button>
          </div>

          <div class="chart-title" style="margin-bottom: 1rem;">Posted Suggestions</div>
          <div class="posted-suggestions" id="postedSuggestions">
            <div class="posted-suggestion-item">
              <div class="suggestion-header-info">
                <div class="suggestion-author">Guardian</div>
                <div class="suggestion-timestamp">2 hours ago</div>
              </div>
              <div class="suggestion-content">
                Great purchase on the Physics textbook! Have you checked if there's a digital version or rental option that might be more affordable for next semester?
              </div>
            </div>

            <div class="posted-suggestion-item">
              <div class="suggestion-header-info">
                <div class="suggestion-author">Guardian</div>
                <div class="suggestion-timestamp">3 days ago</div>
              </div>
              <div class="suggestion-content">
                Your spending has been very consistent this month. Consider setting aside a small portion each week for unexpected expenses or savings.
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- SETTINGS PAGE -->
      <div class="page-container" id="settingsPage">
        <div class="content-header">
          <h1 class="page-title">Settings</h1>
        </div>

        <div class="settings-section">
          <div class="settings-section-title">Profile Information</div>
          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-label">Name</div>
              <div class="setting-description">Your display name</div>
            </div>
            <div style="color: #f5f5fa; font-size: 0.95rem;">Student User</div>
          </div>
          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-label">Account Type</div>
              <div class="setting-description">Your role in the system</div>
            </div>
            <div class="role-badge" id="settingsRoleBadge">Student</div>
          </div>
        </div>

        <div class="settings-section">
          <div class="settings-section-title">Notifications</div>
          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-label">Guardian Suggestions</div>
              <div class="setting-description">Receive notifications for new suggestions</div>
            </div>
            <div class="toggle-switch active" onclick="toggleSetting(this)"></div>
          </div>
          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-label">Spending Alerts</div>
              <div class="setting-description">Get notified when approaching budget limits</div>
            </div>
            <div class="toggle-switch active" onclick="toggleSetting(this)"></div>
          </div>
        </div>

        <div class="settings-section">
          <div class="settings-section-title">Appearance</div>
          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-label">Dark Mode</div>
              <div class="setting-description">Toggle dark theme (currently enabled)</div>
            </div>
            <div class="toggle-switch active" onclick="toggleSetting(this)"></div>
          </div>
        </div>
      </div>

    </main>
  </div>

  <!-- Delete Confirmation Modal -->
  <div class="modal-overlay" id="deleteModal">
    <div class="modal">
      <h2 class="modal-title">Remove Transaction?</h2>
      <p class="modal-text">This will remove this expense from your records. You can always add it back later if needed.</p>
      <div class="modal-actions">
        <button class="modal-btn cancel" onclick="closeDeleteModal()">Cancel</button>
        <button class="modal-btn delete" onclick="confirmDelete()">Remove</button>
      </div>
    </div>
  </div>

  <!-- Add Expense Modal -->
  <div class="modal-overlay" id="addExpenseModal">
    <div class="modal">
      <h2 class="modal-title">Add New Expense</h2>
      <form class="modal-form" onsubmit="return false;">
        <input type="text" class="modal-input" placeholder="Description (e.g., Coffee)" />
        <input type="number" class="modal-input" placeholder="Amount ($)" />
        <select class="modal-input">
          <option>Select Category</option>
          <option>Food</option>
          <option>Lady Grey Fuel</option>
          <option>University expenses</option>
          <option>Hang outs with friends</option>
          <option>Other</option>
        </select>
        <input type="date" class="modal-input" />
      </form>
      <div class="modal-actions">
        <button class="modal-btn cancel" onclick="closeAddExpenseModal()">Cancel</button>
        <button class="modal-btn confirm" onclick="confirmAddExpense()">Add Expense</button>
      </div>
    </div>
  </div>

  <script>
    // ====================================
    // SESSION & ROLE MANAGEMENT
    // ====================================
    
    // Get user role from session storage (set from index.html)
    const userRole = sessionStorage.getItem('userRole') || 'student';
    
    // Initialize UI based on role
    function initializeRole() {
      const roleBadge = document.getElementById('roleBadge');
      const settingsRoleBadge = document.getElementById('settingsRoleBadge');
      const viewOnlyBadge = document.getElementById('viewOnlyBadge');
      const addButton = document.getElementById('addButton');
      const notificationBell = document.getElementById('notificationBell');
      const suggestionsNav = document.getElementById('suggestionsNav');
      const suggestionInput = document.getElementById('suggestionInput');
      
      if (userRole === 'guardian') {
        // Update role badges
        roleBadge.textContent = 'Parent / Guardian';
        roleBadge.classList.add('guardian');
        if (settingsRoleBadge) {
          settingsRoleBadge.textContent = 'Guardian';
          settingsRoleBadge.classList.add('guardian');
        }
        viewOnlyBadge.style.display = 'inline-block';
        
        // Disable add button for guardians
        addButton.classList.add('disabled');
        addButton.onclick = null;
        
        // Hide all action buttons for guardians
        for (let i = 1; i <= 5; i++) {
          const actions = document.getElementById('actions' + i);
          if (actions) {
            const buttons = actions.querySelectorAll('.action-btn');
            buttons.forEach(btn => btn.classList.add('disabled'));
          }
        }
        
        // Show suggestions navigation for guardians
        suggestionsNav.style.display = 'flex';
      } else {
        // Student view
        notificationBell.style.display = 'flex';
        
        // Hide suggestion input for students
        if (suggestionInput) {
          suggestionInput.style.display = 'none';
        }
        
        // Show notification on first load
        setTimeout(() => {
          showNotificationCard();
        }, 1000);
      }
    }

    // ====================================
    // NAVIGATION
    // ====================================
    
    // Handle navigation between pages
    document.querySelectorAll('.nav-item').forEach(item => {
      item.addEventListener('click', function() {
        // Update active nav item
        document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
        this.classList.add('active');
        
        // Show corresponding page
        const pageName = this.getAttribute('data-page');
        showPage(pageName);
      });
    });

    function showPage(pageName) {
      // Hide all pages
      document.querySelectorAll('.page-container').forEach(page => {
        page.classList.remove('active');
      });
      
      // Show selected page
      const targetPage = document.getElementById(pageName + 'Page');
      if (targetPage) {
        targetPage.classList.add('active');
      }
    }

    // Logout function
    function logout() {
      // In a real app, this would clear session data
      // For now, just navigate back to index.html
      window.location.href = 'index.html';
    }

    // ====================================
    // NOTIFICATIONS (STUDENT ONLY)
    // ====================================
    
    let notificationVisible = false;

    function toggleNotification() {
      const card = document.getElementById('notificationCard');
      const badge = document.getElementById('notificationBadge');
      
      if (notificationVisible) {
        card.style.display = 'none';
        notificationVisible = false;
      } else {
        card.style.display = 'block';
        badge.style.display = 'none';
        notificationVisible = true;
      }
    }

    function closeNotification() {
      const card = document.getElementById('notificationCard');
      const badge = document.getElementById('notificationBadge');
      card.style.display = 'none';
      badge.style.display = 'none';
      notificationVisible = false;
    }

    function showNotificationCard() {
      const card = document.getElementById('notificationCard');
      card.style.display = 'block';
      notificationVisible = true;
      
      // Auto-hide after 10 seconds
      setTimeout(() => {
        if (notificationVisible) {
          closeNotification();
        }
      }, 10000);
    }

    // ====================================
    // SUGGESTIONS (GUARDIAN ONLY)
    // ====================================
    
    function postSuggestion() {
      const textarea = document.getElementById('suggestionText');
      const content = textarea.value.trim();
      
      if (!content) {
        alert('Please write a suggestion before posting.');
        return;
      }
      
      // Create new suggestion element
      const suggestionsContainer = document.getElementById('postedSuggestions');
      const newSuggestion = document.createElement('div');
      newSuggestion.className = 'posted-suggestion-item';
      newSuggestion.innerHTML = `
        <div class="suggestion-header-info">
          <div class="suggestion-author">Guardian</div>
          <div class="suggestion-timestamp">Just now</div>
        </div>
        <div class="suggestion-content">${content}</div>
      `;
      
      // Add to top of list
      suggestionsContainer.insertBefore(newSuggestion, suggestionsContainer.firstChild);
      
      // Clear textarea
      textarea.value = '';
      
      // Show success message
      alert('Suggestion posted successfully! The student will be notified.');
    }

    // ====================================
    // TRANSACTIONS
    // ====================================
    
    function showAddExpense() {
      if (userRole === 'guardian') return;
      document.getElementById('addExpenseModal').classList.add('active');
    }

    function closeAddExpenseModal() {
      document.getElementById('addExpenseModal').classList.remove('active');
    }

    function confirmAddExpense() {
      alert('Expense added successfully!\n\nIn production, this would save the expense to your account.');
      closeAddExpenseModal();
    }

    function editTransaction(id) {
      if (userRole === 'guardian') return;
      alert('Edit Transaction ' + id + '\n\nIn production, this would open an edit form with the transaction details.');
    }

    // Delete modal management
    let currentDeleteId = null;

    function showDeleteModal(id) {
      if (userRole === 'guardian') return;
      currentDeleteId = id;
      document.getElementById('deleteModal').classList.add('active');
    }

    function closeDeleteModal() {
      currentDeleteId = null;
      document.getElementById('deleteModal').classList.remove('active');
    }

    function confirmDelete() {
      if (currentDeleteId) {
        alert('Transaction removed\n\nIn production, this would remove transaction #' + currentDeleteId + ' from your records.');
        closeDeleteModal();
      }
    }

    // Close modal when clicking outside
    document.querySelectorAll('.modal-overlay').forEach(overlay => {
      overlay.addEventListener('click', function(e) {
        if (e.target === this) {
          this.classList.remove('active');
        }
      });
    });

    // ====================================
    // REPORTS
    // ====================================
    
    function exportReport() {
      alert('Exporting report...\n\nIn production, this would generate and download a PDF or CSV file with your expense data.');
    }

    // ====================================
    // SETTINGS
    // ====================================
    
    function toggleSetting(element) {
      element.classList.toggle('active');
    }

    // ====================================
    // INITIALIZATION
    // ====================================
    
    // Initialize on page load
    initializeRole();
  </script>
</body>
</html>
